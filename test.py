import logging
import unittest
from captcha import Captcha

class TestCaptcha(unittest.TestCase):
    def setUp(self):
        self.className = 'CaptchaTest'
        l = logging.getLogger(self.className)
        l.setLevel(logging.ERROR)
        self.captcha = Captcha(logger = l)

    def testLoggerEmptyLogger(self):
        captcha = Captcha()
        logger = captcha.logger
        self.assertEqual(logger.name, 'Captcha')
    
    def testLoggerExistingLogger(self):
        logger = self.captcha.logger
        self.assertEqual(logger.name, self.className)

    def testLoggerExistingLoggerAndChangeLevel(self):
        logger = self.captcha.logger
        self.captcha.initializeLogger(logger=logger, level=logging.DEBUG)
        self.assertEqual(logging.DEBUG, self.captcha.logger.level)

    def testFilter_allowed_characters01(self):
        testString = '0123456789abcdefghijklmnopqrstuvwxyz'
        test = self.captcha.filter_allowed_characters(text=testString)
        self.assertEqual(test, testString)
        
    def testFilter_allowed_characters02(self):
        testString = '0123456789abcdefghijklmnopqrstuvwxyz '
        test = self.captcha.filter_allowed_characters(text=testString)
        self.assertEqual(test, '0123456789abcdefghijklmnopqrstuvwxyz')

    def testFilter_allowed_characters02(self):
        testString = '0123456789abcdefghijklmnopqrstuvwxyz!@#$%¨&*()êâîôûÂÊÎ'
        test = self.captcha.filter_allowed_characters(text=testString)
        self.assertEqual(test, '0123456789abcdefghijklmnopqrstuvwxyz')

    def testSolve01(self):
        captcha = Captcha()
        imgstring = b'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'
        captcha.create_img_file(imgstring=imgstring)
        text = captcha.solver()
        text = captcha.filter_allowed_characters(text=text)
        self.assertEqual(text, '2hnwjd')

    def testSolve02(self):
        captcha = Captcha()
        imgstring = b'/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABaASwDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD3+iiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAz9a/48Yv+vu2/9HpWhVPV4JLrRb63hXdLLbyIi5AyxUgDmrFvPHdW0VxC26KVA6NgjKkZB5oAkooooAKKKKACiiigDP1biO0dP9et3F5WOvLbXwO/7syfQZPbI0Kz7795qelxLy6SvMw9EEbIT/31Ig/H2NaFABRRRQAVn6k6R3els7KoN2VyxxyYpAB+JIFaFZfiBHOjTTxLE01qVuY/MGQChDH9AR+NAGpRTUdJY1kjZXRgGVlOQQehBp1ABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFZ9n/AKBM1jJ8sTOTaHsV6mP2K/Nhf7gGM7WxoVDc2yXUYViysp3RyJwyN6j8z7EEg5BIoAmoqjHfPBIsGo+VDI5CxSq3yTHpgZ+6x67eeDwWwcXqACiiigApskiRRtJI6pGgLMzHAUDqSaJJEijaSR1SNAWZmOAoHUk1RCyam6GWGSC0jdZFWQAPKwIZSR1VQQDg4YnggAEMAOsI3mkkvp0ZZJCVhVxgxxcYGO27G45APIB+6KvUUUAFFFFABVW5vkt5BCkUtxcEbhFCuTj1JOFXocbiM4OMnim3E8ktybK2bZLsDyy4B8pCSAQD1Y7Wx2GCT2DTW1pBZxmO3iVAx3MR1Zu7MepJxyTyaAMKzm1LT7iPS1ghSOYM9q1xc7jEgx+7wBliuc43Yxxu4zWn/wATiL/nxus/79vt/wDRm79MY754nvrNL22MZ2rIpDxSFd3lyD7rAex/Pp0NVLbVis0dnqca2l4w+Ulh5cxzj92c/Q7Tg8jr1oAk/tQwc39rJZxjgzu6GLd/vA5APYsF7DgkCtCis2SNNGjaeBFSwQFpoVGBEB1dB+pUdeo5yGANKiiigAoorDbxRaNI62drfX6xtseS0g3orf3c5HOMHjjBFAG5RRXPXeu3Wn+K7fTrqGIWN0AIJlVtwbpgnofm4wOgYEmgDoaKK5rwnq17rMmpXUzs1kJttqGVQVHJIOOehTrn+dAHS0UUUAFFFFAFLV9Si0jSbm/lGVhTIXn5m6KOhxkkDPvXMaRrfjHUXs530mzWwmdS0n3WEZPLAF89ORxz7034hQau2mzzQ3UK6UsaCaAj52fzOCDt6cr3HQ1J4VbxPCmmQ3KWs+lSQK4nXAeJNnyJjI54XsevX0AOyooooAKKKKACiuT8Y6hd2F/ozWrTnMrFoYnK+dgphTjrnp0PWmva+NnjaZb+0QkFxAqrle+0EqR7cn8e9AHXUVh+F9dfXdOeWZYkuIpCjrGe3UHB5Hcfga3KAGyRpLG0ciK8bgqysMhgeoIqj/Z9zb8WF75UY4WCaISRIPRQCrD2G4gDgDGMaFFAGf8A8TiL/nwus/79vt/9Gbv0xjvniK4l1SC2lu5rqwtYokLuvkPNsUDJO4MueBn7o9Oep1a4rXrj/hKNfi8MWs2LSL99fTRNyNv8HoeSvrgkcfKaAMzQtc1TUPFGn2+rWyyRXStPbm4GWRAGKMAMJnKn5toJB44Ir0iuIvo0h+KmiRRIqRpZFVVRgKAsuAB2FdvQAUUUUAFNkkSKNpJHVEQFmZjgKB1JNOrmfHerSaT4ZlMcSu1032bLHhQytk+/AP5/hQBsaTG4sEuJ0ZLq6CzzhhjDlQMY7YAC468c5OSb1cPHp3xCeJHbWbGNmUEoyLlfY4jIz9Ca6TQW1g2LprccK3McpRXi6SoAMP16k57D6CgDUqK5toby2kt7iNZIZBhlbvUtFAGWsWoaarCDdfwGTKpJLiWNSRkBm4fqSNxBGMZPYGuQLHK9za31sIiQ3mWrkYHVtygrj3z2rUooA88k8fR2U0umaNZPfnzGW2Y5UKGAKrtxkgMWUD5cKqgHvUqfEK905FTXtCntpWVtkigqsjA8DDdBgjJBP05pLC8Twf4s1o6yPJtdRc3EFyqs6thmO3gHnD8+mPcGovFuuWfivT4NK0KOTULpphIdsTqIgONxJxjlgMnIAJzjg0AdFqkN+/lXOoIJbGO4TzLG1VpdyYI3HChnIcqxXGNqngmkuJ/C18yM1lb6kI0EayW+ntdKgHRNyIwGM5254z05ret4fs9rFB5kkvloE8yVtztgYyx7k96loAKwPF+j/wBr6JJ5abrm3/exYGScdV6E8jsOpArfooA5O68QRXHw+kvGdZJpYfszhmCkyEbW4H1LY9PStXwxp/8AZnh60gZdsrJ5kmU2nc3OCPUcD8K5xvBF6t8YI7mBtGa6Wc27OwOB1A4PO0kZzzxn26f7bPqXy6d8lueGvHBH4xKRh+P4vu8gjfgigDTorM/sbzP+PvUtRuMfd/f+Tt9f9SEz265x2xzk/smWH/jy1O9hA5EcridGb/aMgL46ZAZfbBOaANOiqNveyrOtpfReVOciOVceXOQMnbySDjna3PXBYKWq9QBynxEuvs/hOSLZu+0zJFnONuDvz7/cx+NdFp9r9h021s9+/wAiFIt+MbtoAzjt0rI8YaFdeINIitLSSFJEnEhMpIGArDsDzyK6CgAooooAKKKKAOR10Pe+OdEsiyokQ+0BsZJIJJHX/pmB+J6111ZNxonn+JbXWPtG3yIjH5WzO7IbnOePvenatagDk/BH+lf2tqn3ftV0f3fXbjLde/38dO1dZWH4W0a40PTJba5eJ3aYyAxkkYKqO4HpW5QAUUUUAVtQmnt9NupraPzbiOF3iTaW3MASBgcnJ9K878O6rq+gWkyHwrqV1czyGWa4cOGc9v8AlmTj6k8knvXptFAHlN54h1CXxxYak+gXUdzFAUSzO7fIMP8AMPlzj5j2/hNek6Rez6jpcN1cWclnLJu3QSZ3JhiOcgdQM9O9Zd5oN1ceOLDW0khFtbwGJ1JO8kh+gxjHzDv61aukbVNYNi4zYWqCSfbIR5sjZAiYDgqF+ZlJ53JxjqASf2/prcwTSXS93tIJLhAfQtGpAPtnPI9atWmoWt9vEEuXjx5kTqUkjz03IwDLnGRkDI5qeOOOGJIokVI0UKqKMBQOgA7CqepaZFqCI+fKu4NzW1yud0LkYzwRkeqng45oAvVj+JrO21LQ7uzliWaYwPLBGOX3qOGUDnIJA4/vY71c0u6kvNPjlmCiZWaKXYPl8xGKNtzzt3KcZ5xiqXiDw5b6/FAXmmt7m2YvbzxNgox9u4yFPY8cEUAc9D4L1HTVNx4b8RyRxNiSKGX5o2yACxIyp45B2+n1rY8F67ca/oP2i7VRPFKYXdeBJgA7sdj836dugw4tA8URXI0NPEnl2CRKySiPEpXJ4Xv8pAB+fgMvriui0uw0/wAH6JHbmZsNINzkEtLK2B8qjJ7DAHYd+TQBuU2SRIo2kkdURAWZmOAAOpJrNWG+1Fg92ZLK2G4fZY5P3j8/KzSKfl6fdU/Vj0py6BpQZ2exindzlpLgec54A+8+T0A4zQBJHrOlSyLHHqdm7uQqqs6kknoAM1LqN39g0y7vNnmfZ4Xl2Zxu2qTjPbpU8kaSxtHIiujgqysMgg9QRWXd6bpdjayXCWzW4QZK2TtC0h7LhCu4k8AHueOtAHH+CNHttee51vVlXUJ5GHzTDIR/mDLt6H5fLI4wMgDpVjxb4astDsG1/Rt1he2sok/dElX3MFxgnAHPQcYyMc8Vm8N+J/DEAOh6iDbS+WZ4wnmFJCMMwXaSVz3A3YxkHGal/wCEX17xMIDrPiC1uNPRi6mzw245weiqM4yMnOPTk0AdvpV099o9ldyhRJPbxysF6AsoJx7c1bpscaQxJFEipGihVRRgKB0AHYU6gAooooAztRkkluINNhdonuFaR5FOCsSMm8Ajnc28KCMYyTnIAN+OOOGJIokVI0UKqKMBQOgA7Cs5P3nieffz9nso/K/2fMd9/wBc+UnXpt46nOnQAUUUUAVtQsYtSsZLSZpEV8EPE5V0YEFWUjoQQCPpUWk3c95Y5u0jju4naKdIySoZTjIzyAwwwz2YdetXqytOkA1vWYUDMolilZ9pADtEqlB2JCojZH/PQDtyAatFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABWZp/7vVtXifh3mjnUeqGJEB/76jcY68e4rTrP1OwmuGiu7ORY7+2V/IMhby2DDBVwCMqcKfYqDzjBANCisqTWJrWJ2u9Iv1KKeYEWcSMOy7CWwecFlUeuCcUCXUNSlaB7KbT7TaC8ryp5snXKKEY7R0y2c84AB+YADfDr/aLS7u1ljeG4vZmiEQ+RVDFOOTncULkjqXJrXpscccMSRRIqRooVUUYCgdAB2FOoAp6mbWOxee7m8iOH94JgcNG3QEe/OMc5zjBBwcuwaSxmfUNcgjgu50UPciQGGJe0fJynOSeqkn7xJAF6ZTea0kDOyw2kaTmMYIlZiwXPH8Owke5B/hrSoAjguIbqFZreWOWJvuvGwZT24IqSqc+k6fczNPLZQNO3/LbYBICOAQw5BHGCDkYqP8AsPTm/wBdb/avT7W7T7fpvJx7464HpQBJPqlrDM1usnnXQ/5d4fnkGemQPujkfM2ByMkUQW80sy3N6I/NT/VxRsWSLsSCQMseecDAOB3LWILeG1hWG3ijiiX7qRqFUd+AKkoAKx7xP7IuDqcLbLM/8fkCRZzk/wCtAHO4E/MecqPVRWxRQAUVm6Ugs2uNNBbZbFTAGYsfKYccn0YOoHUBR9TpUAFFFFAGZd/6Nrdldn5YZUe1kYcfMSrRlvYEOo/2pAB941p1meI/+RY1b/rym/8AQDWnQAUUUUANkkjhieWV1SNFLM7HAUDqSewrO0T99azX/wDz/TNOuOhTASMgdRmNEJB5yT06A17nTFQ8rJc28br2ZWmRWU+oIJBHcE1p0AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAGXpKrJc6pdiHZ512UVyBuYRqsfbtuV8Z/rWpWfo3/AB4yf9fdz/6OetCgAooooAKKKKACiiigDPP7rxCm3/l4tG357eW424/7+tn6D8dCs/Uf+P7Sf+vtv/RMtaFAH//Z'
        captcha.create_img_file(imgstring=imgstring)
        text = captcha.solver()
        text = captcha.filter_allowed_characters(text=text)
        self.assertEqual(text, 'vfn4s8')

    def testSolve03(self):
        captcha = Captcha()
        imgstring = b'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'
        captcha.create_img_file(imgstring=imgstring)
        text = captcha.solver()
        text = captcha.filter_allowed_characters(text=text)
        self.assertEqual(text, '8bd55n')

if __name__ == '__main__':
    unittest.main()  # pragma: no cover